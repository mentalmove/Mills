function setPiece(c,b,f,d){function e(r,g,u){var h={};var n,m,l,o,t,q;var p=[];var s=(g==1)?"white":"black";for(n=0;n<u.length;n++){if(h[u[n]]){continue}h[u[n]]=1;t=f(r,(g*-1));for(m=0;m<t.length;m++){o={};o.args=[u[n],s];o.board=[];for(l=0;l<r.length;l++){if(l==u[n]){o.board[l]=g}else{o.board[l]=r[l]}}o.board[t[m]]=0;p.push(o)}}return p}function a(r,g,t,w){var v=[];var o=[];var m,k,q,p;var s={i_can_build:[],opponent_can_build:[],opponent_has_chances:[],i_have_chances:[]};for(m=0;m<r.length;m++){if(t===m){continue}if(r[m]){if(m%2!=0){continue}p=((m%8)<4)?m+4:m-4;if(!r[p]){o.push(p)}continue}for(k=0;k<c[m].length;k++){q=r[c[m][k][0]]+r[c[m][k][1]]+r[c[m][k][2]];if((q*g)==2){s.i_can_build.push(m)}if(w===undefined){if((q*g)==-2){s.opponent_can_build.push(m)}}if((q*g)==-1){if(!r[c[m][k][0]]||!r[c[m][k][1]]||!r[c[m][k][2]]){s.opponent_has_chances.push(m)}}if((q*g)==1){if(!r[c[m][k][0]]||!r[c[m][k][1]]||!r[c[m][k][2]]){s.i_have_chances.push(m)}}}}if(s.i_can_build.length){v=s.i_can_build}else{if(s.opponent_can_build.length){v=s.opponent_can_build}else{if(s.opponent_has_chances.length){v=s.opponent_has_chances}else{if(s.i_have_chances.length){v=s.i_have_chances}}}}if(s.i_can_build.length){return e(r,g,s.i_can_build)}if(!s.opponent_can_build.length){for(m=0;m<o.length;m++){v.push(o[m])}}while(!v.length){p=Math.floor(Math.random()*r.length);if(r[p]||(p%2==0&&!Math.floor(Math.random()*3))){continue}v.push(p)}var h={};var l;var n=[];var u=(g==1)?"white":"black";for(m=0;m<v.length;m++){if(h[v[m]]){continue}h[v[m]]=1;l={};l.args=[v[m],u];l.board=[];for(k=0;k<r.length;k++){if(k==v[m]){l.board[k]=g}else{l.board[k]=r[k]}}n.push(l)}return n}this.search_move=a};